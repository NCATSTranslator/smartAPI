{% extends "main.html" %}
{% block content %}
{% include "header.html" %}
{% raw %}
<link type="text/css" rel="stylesheet" href="/static/css/swagger-ui.css"/>

<style>
   h2.title span {
   display: none !important;
 }
 h2.title{
   padding-top: 20px;
 }
</style>

<main id="ui-app" class="indexBackground">
  <div class="container transparent center-align" style="margin-bottom: 0px;">
    <img width="15%" alt="SmartAPI" src="/static/img/logo-large.svg" class="" />
    <h4  class="textShadow white-text logoFont lighter hide-on-small-only" style="margin:5px;">Smart<span class="l-blue-text">API</span></h4>
  </div>
  <div class="container white" id="swagger-ui"></div>
</main>

{% endraw %}
{% include "footer.html" %}
{% endblock %}
{% block extra_scripts %}
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.4.2/vue.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js"></script>
  <script src="//unpkg.com/swagger-ui-dist@3/swagger-ui-bundle.js"></script>
  <!-- `SwaggerUIBundle` is now available on the page -->
  <!-- <script src="/static/js/swagger-ui-standalone-preset.js"></script> -->
  <!-- SwaggerUIStandalonePreset and StandaloneLayout -->
  <script>

  var app = new Vue({
      el: '#ui-app',
      data: function(){
        return {
          apiUrl:"https://raw.githubusercontent.com/NCATS-Tangerine/translator-api-registry/master/mygene.info/openapi_full.yml"
        }
      },
      methods: {

      },
      mounted: function(){

        const ui = SwaggerUIBundle({
            url: this.apiUrl ,
            dom_id: '#swagger-ui',
            deepLinking: true,
            presets: [
              SwaggerUIBundle.presets.apis,
              // SwaggerUIStandalonePreset
              // disables TopBar
            ],
            plugins: [
              SwaggerUIBundle.plugins.DownloadUrl
            ],
            // layout: "StandaloneLayout"
            // disables TopBar
          })
          window.ui = ui;
      }
  });
  </script>
{% endblock %}
